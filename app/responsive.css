/* ============================================
   RESPONSIVE CSS FOR MOBILE PORTRAIT MODE
   Financial Tracker Application
   ============================================ */

/* ============================================
   MOBILE BREAKPOINTS
   ============================================ */
/* Small mobile: 320px - 480px */
/* Large mobile: 481px - 768px */
/* Tablet: 769px - 1024px */
/* Desktop: 1025px+ */

/* ============================================
   GLOBAL MOBILE STYLES
   ============================================ */
@media (max-width: 768px) {
  /* Base font size adjustment */
  body {
    font-size: 14px;
  }

  /* Reduce heading sizes */
  h1 { font-size: 1.75rem; }
  h2 { font-size: 1.5rem; }
  h3 { font-size: 1.25rem; }
  h4 { font-size: 1.1rem; }
  h5 { font-size: 1rem; }
  h6 { font-size: 0.9rem; }

  /* Improve touch targets */
  button,
  .btn,
  a.icon-link {
    min-height: 44px;
    /* min-width: 44px; */
  }
}

/* ============================================
   HEADER RESPONSIVE
   ============================================ */
@media (max-width: 768px) {
  .background-color-header {
    padding: 0.75rem !important;
  }

  /* Hide text labels on mobile */
  .mobile-hide-text {
    display: none !important;
  }

  /* Reduce logo size */
  .background-color-header img {
    width: 32px !important;
    height: 32px !important;
  }

  /* Header title adjustment */
  .background-color-header h5 {
    font-size: 0.95rem !important;
    margin-left: 0.5rem !important;
  }
}

@media (max-width: 480px) {
  /* Hide app title on very small screens */
  .background-color-header h5 {
    display: none !important;
  }

  /* Compact header spacing */
  .background-color-header {
    padding: 0.5rem !important;
  }
}

/* ============================================
   SIDEBAR RESPONSIVE
   ============================================ */
@media (max-width: 768px) {
  /* Sidebar overlay on mobile */
  .ant-layout-sider {
    position: fixed !important;
    left: 0 !important;
    /* top: 72px !important; */
    height: calc(100vh) !important;
    z-index: 999 !important;
    transition: transform 0.3s ease-in-out !important;
  }

  /* Hide sidebar when collapsed */
  .ant-layout-sider-collapsed {
    transform: translateX(-100%) !important;
  }

  /* Show sidebar when expanded */
  .ant-layout-sider:not(.ant-layout-sider-collapsed) {
    transform: translateX(0) !important;
  }

  /* Overlay backdrop when sidebar is open */
  .sidebar-backdrop {
    position: fixed;
    /* top: 72px; */
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 998;
    display: block;
  }

  /* Sidebar width adjustment */
  .ant-layout-sider {
    max-width: 280px !important;
    min-width: 280px !important;
    width: 280px !important;
  }
}

@media (max-width: 480px) {
  /* Full width sidebar on very small screens */
  .ant-layout-sider {
    max-width: 100vw !important;
    min-width: 100vw !important;
    width: 100vw !important;
  }
}

/* ============================================
   DASHBOARD LAYOUT
   ============================================ */
@media (max-width: 768px) {
  /* Main content area */
  .content-wrapper {
    /* margin-top: 72px !important; */
    padding: 0.5rem !important;
    width: 100% !important;
    margin-left: 0 !important;
  }

  .responsive-page-height {
    margin-top: 60px !important;
  }

  /* Remove sidebar spacing */
  .ant-layout-content {
    margin-left: 0 !important;
  }

  .cancel-dflex {
    display: block !important;
  }

  .h-responsive-padding {
    margin-bottom: .5em !important;
  }

  .cancel-right-radius {
    border-top-right-radius: 0% !important;
    border-bottom-right-radius: 0% !important;
  }

  .cancel-left-radius {
    border-top-left-radius: 0% !important;
    border-bottom-left-radius: 0% !important;
  }

  .cancel-col {
    width: 100% !important;
  }

  .title-pages {
    margin-top: .5rem !important;
    margin-bottom: .5rem !important;
    width: 100%;
    display: flex !important;
    justify-content: center !important;
  }

  h3 {
    font-size: 15px !important;
  }

  .bi-title {
    font-size: 18px !important;
  }

  .span-button {
    display: flex;
    font-size: 15px !important;
  }
}

@media (max-width: 480px) {
  .content-wrapper {
    padding: 0.5rem !important;
  }
}

/* ============================================
   LOGIN PAGE RESPONSIVE
   ============================================ */
@media (max-width: 768px) {
  /* Remove fixed width */
  .login-container {
    width: 90% !important;
    max-width: 450px !important;
    padding: 2rem !important;
  }
}

@media (max-width: 480px) {
  .login-container {
    width: 95% !important;
    padding: 1.5rem !important;
  }

  .login-container h2 {
    font-size: 1.5rem !important;
  }

  .login-container .btn {
    font-size: 0.95rem !important;
  }
}

/* ============================================
   SWAL MODALS RESPONSIVE
   ============================================ */
@media (max-width: 768px) {
  /* Profile and password modals */
  .swal2-popup {
    width: 90vw !important;
    max-width: 500px !important;
    padding: 1.5rem !important;
  }

  .swal2-title {
    font-size: 1.25rem !important;
  }

  .swal2-html-container {
    font-size: 0.9rem !important;
  }

  .swal2-actions {
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
  }

  .swal2-styled {
    font-size: 0.85rem !important;
    padding: 0.5rem 1rem !important;
  }
}

@media (max-width: 480px) {
  .swal2-popup {
    width: 95vw !important;
    padding: 1rem !important;
  }

  .swal2-title {
    font-size: 1.1rem !important;
  }

  .swal2-styled {
    font-size: 0.8rem !important;
    padding: 0.4rem 0.8rem !important;
    min-width: 80px !important;
  }
}

/* ============================================
   DASHBOARD CHARTS PAGE
   ============================================ */
@media (max-width: 768px) {
  /* Stack charts vertically */
  .charts-container .col-6,
  .charts-container .col-8,
  .charts-container .col-4 {
    flex: 0 0 100% !important;
    max-width: 100% !important;
  }

  /* Reduce chart height for mobile */
  .charts-size {
    height: 300px !important;
  }

  /* View mode buttons */
  .view-mode-buttons {
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
  }

  .view-mode-buttons .btn {
    flex: 1 1 45% !important;
    font-size: 0.85rem !important;
    padding: 0.5rem 0.75rem !important;
  }

  .dashboard-btn-responsive {
    display: flex !important;
    gap: 0 !important;
    flex-wrap: nowrap !important;
  }

  /* Year/Month selectors */
  .date-selectors {
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
  }

  .date-selectors select {
    flex: 1 1 45% !important;
    min-width: 120px !important;
  }

  .dashboard-cancel-col {
    padding: 0;
  }
}

@media (max-width: 480px) {
  .charts-size {
    height: 250px !important;
  }

  .view-mode-buttons .btn {
    flex: 1 1 100% !important;
    margin-bottom: 0.5rem !important;
  }

  .date-selectors select {
    flex: 1 1 100% !important;
  }
}

/* ============================================
   ADD TRANSACTION PAGE
   ============================================ */
@media (max-width: 768px) {
  /* Stack form and carousel vertically */
  .transaction-form-container .col-8,
  .transaction-form-container .col-4 {
    flex: 0 0 100% !important;
    max-width: 100% !important;
  }

  /* Carousel adjustments */
  .carousel {
    margin-top: 1rem !important;
    margin-bottom: 1rem !important;
  }

  .carousel-item {
    padding: 0.5rem !important;
  }

  /* Form inputs */
  .form-control,
  .form-select {
    font-size: 1rem !important;
  }

  /* Money division table */
  .money-division-table {
    font-size: 0.85rem !important;
  }

  .money-division-table input {
    font-size: 0.85rem !important;
  }
}

@media (max-width: 480px) {
  .carousel-control-prev,
  .carousel-control-next {
    width: 30px !important;
  }

  .money-division-table {
    font-size: 0.75rem !important;
  }
}

/* ============================================
   DATA TABLES RESPONSIVE
   ============================================ */
@media (max-width: 768px) {
  /* Enable horizontal scroll for tables */
  .ant-table-wrapper {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    max-width: 100vw !important;
  }

  /* Reduce table font size */
  .ant-table {
    font-size: 0.85rem !important;
    min-width: 100% !important;
  }

  .ant-table-thead > tr > th {
    padding: 8px 8px !important;
    font-size: 0.8rem !important;
    white-space: nowrap !important;
  }

  .ant-table-tbody > tr > td {
    padding: 8px 8px !important;
    font-size: 0.85rem !important;
    white-space: normal !important;
    word-wrap: break-word !important;
  }

  /* Notes column specific styling */
  .ant-table-tbody > tr > td:has(div[style*="max-width"]) {
    max-width: 200px !important;
    white-space: normal !important;
    word-break: break-word !important;
  }

  /* Table pagination */
  .ant-pagination {
    font-size: 0.85rem !important;
    flex-wrap: wrap !important;
  }

  .ant-pagination-item {
    min-width: 28px !important;
    height: 28px !important;
    line-height: 26px !important;
  }

  /* Search and filter inputs */
  .ant-input-search,
  .ant-select {
    font-size: 0.9rem !important;
  }

  /* Table container card */
  .ant-table-wrapper .ant-spin-nested-loading,
  .ant-table-wrapper .ant-spin-container {
    overflow-x: auto !important;
  }
}

@media (max-width: 480px) {
  .ant-table {
    font-size: 0.75rem !important;
  }

  .ant-table-thead > tr > th {
    padding: 6px 4px !important;
    font-size: 0.7rem !important;
  }

  .ant-table-tbody > tr > td {
    padding: 6px 4px !important;
    font-size: 0.75rem !important;
  }

  /* Hide less important columns on very small screens */
  .ant-table-column-hide-mobile {
    display: none !important;
  }
}

/* ============================================
   CARDS AND SUMMARY BOXES
   ============================================ */
@media (max-width: 768px) {
  /* Stack cards vertically */
  .summary-cards .col-3,
  .summary-cards .col-6 {
    flex: 0 0 100% !important;
    max-width: 100% !important;
    margin-bottom: 1rem !important;
  }

  /* Card padding */
  .card {
    margin-bottom: 1rem !important;
  }

  .card-body {
    padding: 1rem !important;
  }
}

@media (max-width: 480px) {
  .card-body {
    padding: 0.75rem !important;
  }

  .card-title {
    font-size: 1rem !important;
  }
}

/* ============================================
   BUTTONS AND CONTROLS
   ============================================ */
@media (max-width: 768px) {
  /* Button groups */
  /* .btn-group {
    flex-wrap: wrap !important;
  }

  .btn-group .btn {
    flex: 1 1 auto !important;
    min-width: 100px !important;
  } */

  /* Action buttons */
  .action-buttons {
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
  }

  .action-buttons .btn {
    flex: 1 1 calc(50% - 0.25rem) !important;
  }
}

@media (max-width: 480px) {
  .action-buttons .btn {
    flex: 1 1 100% !important;
  }

  /* Icon buttons */
  .btn i {
    margin-right: 0.25rem !important;
  }
}

/* ============================================
   FORMS
   ============================================ */
@media (max-width: 768px) {
  /* Form groups */
  .form-group,
  .mb-3,
  .mb-4 {
    margin-bottom: 1rem !important;
  }

  /* Form labels */
  .form-label {
    font-size: 0.9rem !important;
    margin-bottom: 0.5rem !important;
  }

  /* Input fields */
  .form-control,
  .form-select {
    padding: 0.5rem 0.75rem !important;
    font-size: 1rem !important;
  }
}

@media (max-width: 480px) {
  .form-control,
  .form-select {
    padding: 0.4rem 0.6rem !important;
    font-size: 0.95rem !important;
  }
}

/* ============================================
   ANT DESIGN COMPONENTS
   ============================================ */
@media (max-width: 768px) {
  /* Dropdown menus */
  .ant-dropdown-menu {
    max-width: calc(100vw - 2rem) !important;
  }

  /* Select dropdowns */
  .ant-select-dropdown {
    max-width: calc(100vw - 2rem) !important;
  }

  /* Date pickers */
  .ant-picker-dropdown {
    max-width: calc(100vw - 2rem) !important;
  }

  /* Modal dialogs */
  .ant-modal {
    max-width: calc(100vw - 2rem) !important;
    margin: 1rem !important;
  }

  .ant-modal-content {
    padding: 1rem !important;
  }

  /* Drawer (if used) */
  .ant-drawer-content {
    max-width: 100vw !important;
  }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */
@media (max-width: 768px) {
  .mobile-full-width {
    width: 100% !important;
  }

  .mobile-hide {
    display: none !important;
  }

  .mobile-show {
    display: block !important;
  }

  .mobile-text-center {
    text-align: center !important;
  }

  .mobile-stack {
    flex-direction: column !important;
  }

  .mobile-no-padding {
    padding: 0 !important;
  }

  .mobile-small-padding {
    padding: 0.5rem !important;
  }
}

/* ============================================
   SCROLL BEHAVIOR
   ============================================ */
@media (max-width: 768px) {
  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Prevent horizontal scroll */
  body {
    overflow-x: hidden;
  }

  /* Custom scrollbar for tables */
  .ant-table-wrapper::-webkit-scrollbar {
    height: 6px;
  }

  .ant-table-wrapper::-webkit-scrollbar-track {
    background: #f1f1f1;
  }

  .ant-table-wrapper::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 3px;
  }

  .ant-table-wrapper::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
}

/* ============================================
   LANDSCAPE MODE (OPTIONAL)
   ============================================ */
@media (max-width: 768px) and (orientation: landscape) {
  /* Reduce vertical spacing in landscape */
  .content-wrapper {
    padding: 0.5rem !important;
  }

  .charts-size {
    height: 250px !important;
  }

  /* Adjust header */
  .background-color-header {
    padding: 0.5rem !important;
  }
}

/* ============================================
   PAGE-SPECIFIC MOBILE FIXES
   ============================================ */

/* Commitments Page Button Group */
@media (max-width: 768px) {
  /* Page header with button group */
  .commitment-header-wrapper {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 1rem !important;
  }

  .commitment-button-group {
    width: 100% !important;
  }

  .commitment-button-group .btn-group {
    display: flex !important;
    flex-wrap: wrap !important;
    width: 100% !important;
  }

  .commitment-button-group .btn {
    flex: 1 1 calc(33.333% - 0.5rem) !important;
    font-size: 0.85rem !important;
    padding: 0.5rem 0.25rem !important;
  }

  .commitment-no-pad-mar-x {
    margin-right: 0 !important;
    margin-left: 0 !important;
    padding-right: 0 !important;
    padding-left: 0 !important;
  }

  .commitment-padding-bottom {
    padding-bottom: 0.5rem;
  }

  .cancel-from-width {
    width: 100% !important;
  }

  .cancel-left-pad-mar {
    padding-left: 0;
    margin-left: 0;
    padding-right: 0.3rem !important;
  }

  .cancel-right-pad-mar {
    padding-right: 0;
    margin-right: 0;
    padding-left: 0.3rem !important;
  }

  .cancel-px {
    padding-right: 0;
    padding-left: 0;
  }

  .cancel-mx {
    margin-left: 0;
    margin-right: 0;
  }

}

@media (max-width: 480px) {
  .commitment-button-group .btn {
    flex: 1 1 100% !important;
    margin-bottom: 0.5rem !important;
  }
}

/* Fix Card Images/Logos Going Outside */
@media (max-width: 768px) {
  .card img,
  .card-body img {
    max-width: 100% !important;
    height: auto !important;
    object-fit: contain !important;
  }

  /* Specific fix for dashboard summary cards */
  .card-body {
    overflow: hidden !important;
  }

  /* Icon/logo containers */
  .card .icon-container,
  .card .logo-container {
    max-width: 100% !important;
    overflow: hidden !important;
  }
}

/* Add Transaction Page - Form Inputs Spacing */
@media (max-width: 768px) {
  /* Form row spacing */
  .transaction-form-container .row {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  .transaction-form-container .row > [class*="col-"] {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Label and input alignment */
  .transaction-form-container .form-label {
    display: block !important;
    width: 100% !important;
    margin-bottom: 0.5rem !important;
  }

  .transaction-form-container .form-control,
  .transaction-form-container .form-select {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Fix time input overlap */
  .transaction-form-container input[type="time"],
  .transaction-form-container input[type="date"] {
    min-width: 0 !important;
    flex: 1 !important;
  }

  /* Datetime container */
  .transaction-form-container .datetime-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.5rem !important;
  }

  .transaction-form-container .datetime-container > div {
    width: 100% !important;
  }

  /* Summary cards on add transaction page */
  .transaction-summary-cards .card {
    min-height: auto !important;
    height: auto !important;
  }

  /* Make cards same height in mobile */
  .transaction-summary-cards .row {
    display: flex !important;
    flex-wrap: wrap !important;
  }

  .transaction-summary-cards .card-body {
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
  }
}

@media (max-width: 480px) {
  .transaction-form-container .col-4,
  .transaction-form-container .col-8 {
    margin-bottom: 0.75rem !important;
  }
}

/* Transaction Record Page - Pie Charts Layout */
@media (max-width: 768px) {
  /* Stack pie charts vertically */
  .transaction-charts-row .col-6 {
    flex: 0 0 100% !important;
    max-width: 100% !important;
    margin-bottom: 1rem !important;
  }

  /* Ensure table doesn't overflow */
  .transaction-table-wrapper {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  .transaction-table-wrapper .card {
    overflow: hidden !important;
  }

  .transaction-table-wrapper .card-body {
    padding: 0.5rem !important;
    overflow-x: auto !important;
  }

  /* Fix table going out of card */
  .transaction-table-wrapper .ant-table-wrapper {
    margin: 0 !important;
  }
}

/* Total Debt and Unpaid Commitments Cards - Max Width */
@media (max-width: 768px) {
  /* Summary cards at top of add transaction */
  .debt-commitment-cards .card,
  .summary-info-cards .card {
    max-width: 100% !important;
    width: 100% !important;
    margin-bottom: 1rem !important;
  }

  /* Ensure equal height */
  .debt-commitment-cards .row,
  .summary-info-cards .row {
    display: flex !important;
  }

  .debt-commitment-cards .row > div,
  .summary-info-cards .row > div {
    display: flex !important;
  }

  .debt-commitment-cards .card,
  .summary-info-cards .card {
    flex: 1 !important;
    display: flex !important;
    flex-direction: column !important;
  }

  .debt-commitment-cards .card-body,
  .summary-info-cards .card-body {
    flex: 1 !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
  }

  .debt-summary-cards {
    height: -webkit-fill-available;
  }
}

/* Remove Extra White Space */
@media (max-width: 768px) {
  /* Tighter spacing for mobile */
  body,
  html {
    margin: 0 !important;
    padding: 0 !important;
  }

  .container-fluid {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Remove gaps */
  .row {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  /* Card spacing */
  .card {
    margin-bottom: 0.75rem !important;
  }

  /* Page specific spacing fixes */
  .background {
    padding: 0.5rem !important;
  }
}
